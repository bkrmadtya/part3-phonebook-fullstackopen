{"version":3,"sources":["components/Person.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","name","number","deletePerson","react_default","a","createElement","onClick","PersonForm","addPerson","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","onChange","value","type","Filter","filterPerson","Notification","message","notificationStyle","console","log","className","baseUrl","services_persons","axios","get","then","response","data","newPerson","post","id","put","concat","delete","status","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setName","_useState5","_useState6","setNumber","_useState7","_useState8","showPersons","setShowPersons","_useState9","_useState10","notification","setNotification","_useState11","_useState12","responseStatus","setResponseStatus","useEffect","personServices","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","some","person","trim","thisPerson","find","window","confirm","objectSpread","updatedPerson","map","returnedPerson","setTimeout","filter","toLowerCase","includes","components_Person","key","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3a28483f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ name, number, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {name} {number} <button onClick={deletePerson}>Delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  newName,\r\n  newNumber\r\n}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input onChange={handleNameChange} value={newName} />\r\n      </div>\r\n      <div>\r\n        number: <input onChange={handleNumberChange} value={newNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ filterPerson }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={filterPerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message, notificationStyle }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  console.log(notificationStyle);\r\n  return <div className={notificationStyle}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\n\r\n// const baseUrl = `https://morning-gorge-49473.herokuapp.com/api/persons`;\r\n\r\n// only comment upper line after adding app.use(express.static('build')); in backend\r\nconst baseUrl = `api/persons`;\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newPerson => {\r\n  const request = axios.post(baseUrl, newPerson);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newPerson);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.status);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState, useEffect } from 'react';\n\nimport Person from './components/Person';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport personServices from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setName] = useState('');\n  const [newNumber, setNumber] = useState('');\n  const [showPersons, setShowPersons] = useState('');\n  const [notification, setNotification] = useState(null);\n  const [responseStatus, setResponseStatus] = useState();\n\n  useEffect(() => {\n    console.log('effect');\n    personServices.getAll().then(persons => setPersons(persons));\n  }, []);\n\n  const addPerson = event => {\n    event.preventDefault();\n\n    const alreadyExist = persons.some(person => person.name === newName.trim());\n\n    if (!alreadyExist) {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      personServices.create(newPerson).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n\n        setResponseStatus(200);\n        setNotification(`Added ${newPerson.name}`);\n      });\n    } else {\n      const thisPerson = persons.find(person => person.name === newName.trim());\n\n      if (thisPerson.number !== newNumber) {\n        if (\n          window.confirm(\n            `${newName} is already added to phonebook, replace the old number with a new one?`\n          )\n        ) {\n          const newPerson = { ...thisPerson, number: newNumber };\n          personServices\n            .update(thisPerson.id, newPerson)\n            .then(updatedPerson => {\n              setPersons(\n                persons.map(person =>\n                  person.id !== thisPerson.id ? person : updatedPerson\n                )\n              );\n\n              setResponseStatus(200);\n              setNotification(`Updated number for ${newPerson.name}.`);\n            });\n        }\n      } else {\n        setResponseStatus(404);\n        setNotification(\n          `Given phonenumber for ${newName} is already in the phonebook.`\n        );\n      }\n    }\n\n    setTimeout(() => {\n      setNotification(null);\n    }, 3000);\n\n    setName('');\n    setNumber('');\n  };\n\n  const deletePerson = ({ name, id }) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      personServices\n        .remove(id)\n        .then(status => {\n          if (status === 200) {\n            setPersons(persons.filter(person => person.id !== id));\n\n            setResponseStatus(200);\n            setNotification(`Information of ${name} is removed from server.`);\n          }\n        })\n        .catch(error => {\n          setPersons(persons.filter(person => person.id !== id));\n          setResponseStatus(404);\n          setNotification(\n            `Information of ${name} has already been removed from server.`\n          );\n        });\n\n      setTimeout(() => {\n        setNotification(null);\n        setResponseStatus();\n      }, 3000);\n    }\n  };\n\n  const filterPerson = event => {\n    setShowPersons(event.target.value);\n  };\n\n  const handleNameChange = event => {\n    setName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNumber(event.target.value);\n  };\n\n  const personsList = () => {\n    const filtered = persons.filter(person => {\n      return person.name.toLowerCase().includes(showPersons.toLowerCase());\n    });\n\n    const toDisplay = filtered.map(person => (\n      <Person\n        key={person.id}\n        name={person.name}\n        number={person.number}\n        deletePerson={() => deletePerson(person)}\n      />\n    ));\n\n    return toDisplay;\n  };\n\n  const notificationStyle =\n    responseStatus === 200 ? 'successful' : 'unsuccessful';\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification\n        message={notification}\n        notificationStyle={notificationStyle}\n      />\n\n      <Filter filterPerson={filterPerson} />\n\n      <h3>add a new</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h3>Numbers</h3>\n\n      {personsList()}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}