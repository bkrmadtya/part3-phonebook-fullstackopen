{"version":3,"sources":["components/Person.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","name","number","deletePerson","react_default","a","createElement","onClick","PersonForm","addPerson","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","onChange","value","type","Filter","filterPerson","Notification","notification","message","console","log","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","services_persons","axios","get","then","response","data","newPerson","post","id","put","concat","delete","status","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setName","_useState5","_useState6","setNumber","_useState7","_useState8","showPersons","setShowPersons","_useState9","_useState10","setNotification","useEffect","personServices","notify","arguments","length","undefined","setTimeout","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","person","trim","thisPerson","window","confirm","objectSpread","updatedPerson","map","returnedPerson","filter","toLowerCase","includes","components_Person","key","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"qNAUeA,EARA,SAAAC,GAAoC,IAAjCC,EAAiCD,EAAjCC,KAAMC,EAA2BF,EAA3BE,OAAQC,EAAmBH,EAAnBG,aAC9B,OACEC,EAAAC,EAAAC,cAAA,WACGL,EADH,IACUC,EADV,IACkBE,EAAAC,EAAAC,cAAA,UAAQC,QAASJ,GAAjB,YCmBPK,EAtBI,SAAAR,GAMb,IALJS,EAKIT,EALJS,UACAC,EAIIV,EAJJU,iBACAC,EAGIX,EAHJW,mBACAC,EAEIZ,EAFJY,QACAC,EACIb,EADJa,UAEA,OACET,EAAAC,EAAAC,cAAA,QAAMQ,SAAUL,GACdL,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOS,SAAUL,EAAkBM,MAAOJ,KAElDR,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOS,SAAUJ,EAAoBK,MAAOH,KAEtDT,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQW,KAAK,UAAb,UCROC,EARA,SAAAlB,GAAsB,IAAnBmB,EAAmBnB,EAAnBmB,aAChB,OACEf,EAAAC,EAAAC,cAAA,gCACoBF,EAAAC,EAAAC,cAAA,SAAOS,SAAUI,MCkB1BC,EArBM,SAAApB,GAAsB,IAAnBqB,EAAmBrB,EAAnBqB,aACtB,GAA6B,OAAzBA,EAAaC,QACf,OAAO,KAGTC,QAAQC,IAAIH,EAAaC,QAASD,EAAaJ,MAC/CM,QAAQC,IAAI,OAAQH,EAAaJ,MAEjC,IAAMQ,EAAQ,CACZC,MAA6B,UAAtBL,EAAaJ,KAAmB,MAAQ,QAC/CU,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAGhB,OAAO5B,EAAAC,EAAAC,cAAA,OAAKmB,MAAOA,GAAQJ,EAAaC,0BCfpCW,EAAO,cAsBEC,EApBA,WAEb,OADgBC,IAAMC,IAAIH,GACXI,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAkB5BL,EAfA,SAAAM,GAEb,OADgBL,IAAMM,KAAKR,EAASO,GACrBH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAa5BL,EAVA,SAACQ,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,GAAAC,OAAaX,EAAb,KAAAW,OAAwBF,GAAMF,GAC/BH,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAQ5BL,EALA,SAAAQ,GAEb,OADgBP,IAAMU,OAAN,GAAAD,OAAgBX,EAAhB,KAAAW,OAA2BF,IAC5BL,KAAK,SAAAC,GAAQ,OAAIA,EAASQ,UC+H5BC,EA/IH,WAAM,IAAAC,EACcC,mBAAS,IADvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACTK,EADSH,EAAA,GACAI,EADAJ,EAAA,GAAAK,EAEWN,mBAAS,IAFpBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAET3C,EAFS4C,EAAA,GAEAC,EAFAD,EAAA,GAAAE,EAGeT,mBAAS,IAHxBU,EAAAR,OAAAC,EAAA,EAAAD,CAAAO,EAAA,GAGT7C,EAHS8C,EAAA,GAGEC,EAHFD,EAAA,GAAAE,EAIsBZ,mBAAS,IAJ/Ba,EAAAX,OAAAC,EAAA,EAAAD,CAAAU,EAAA,GAITE,EAJSD,EAAA,GAIIE,EAJJF,EAAA,GAAAG,EAKwBhB,mBAAS,CAC/C3B,QAAS,OANK4C,EAAAf,OAAAC,EAAA,EAAAD,CAAAc,EAAA,GAKT5C,EALS6C,EAAA,GAKKC,EALLD,EAAA,GAShBE,oBAAU,WACRC,IAAwBhC,KAAK,SAAAgB,GAAO,OAAIC,EAAWD,MAClD,IAEH,IAAMiB,EAAS,SAAChD,GAA8B,IAArBL,EAAqBsD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAd,UAC9BJ,EAAgB,CAAE7C,UAASL,SAC3ByD,WAAW,kBAAMP,EAAgB,CAAE7C,QAAS,QAAS,MAuGvD,OAFAC,QAAQC,IAAIH,GAGVjB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBAEAF,EAAAC,EAAAC,cAACqE,EAAD,CAActD,aAAcA,IAE5BjB,EAAAC,EAAAC,cAACsE,EAAD,CAAQzD,aArCS,SAAA0D,GACnBb,EAAea,EAAMC,OAAO9D,UAsC1BZ,EAAAC,EAAAC,cAAA,uBAEAF,EAAAC,EAAAC,cAACyE,EAAD,CACEtE,UA/GY,SAAAoE,GAKhB,GAJAA,EAAMG,iBAEe3B,EAAQ4B,KAAK,SAAAC,GAAM,OAAIA,EAAOjF,OAASW,EAAQuE,SAW7D,CACL,IAAMC,EAAa/B,EAAQ4B,KAAK,SAAAC,GAAM,OAAIA,EAAOjF,OAASW,EAAQuE,SAElE,GAAIC,EAAWlF,SAAWW,GACxB,GACEwE,OAAOC,QAAP,GAAA1C,OACKhC,EADL,2EAGA,CACA,IAAM4B,EAASW,OAAAoC,EAAA,EAAApC,CAAA,GAAQiC,EAAR,CAAoBlF,OAAQW,IAC3CwD,EACUe,EAAW1C,GAAIF,GACtBH,KAAK,SAAAmD,GACJlC,EACED,EAAQoC,IAAI,SAAAP,GAAM,OAChBA,EAAOxC,KAAO0C,EAAW1C,GAAKwC,EAASM,KAI3ClB,EAAM,sBAAA1B,OAAuBJ,EAAUvC,KAAjC,cAIZqE,EAAM,yBAAA1B,OACqBhC,EADrB,iCAEJ,aAlCa,CACjB,IAAM4B,EAAY,CAChBvC,KAAMW,EACNV,OAAQW,GAEVwD,EAAsB7B,GAAWH,KAAK,SAAAqD,GACpCpC,EAAWD,EAAQT,OAAO8C,IAC1BpB,EAAM,SAAA1B,OAAUJ,EAAUvC,SAgC9BwD,EAAQ,IACRG,EAAU,KAmENlD,iBAvCmB,SAAAmE,GACvBpB,EAAQoB,EAAMC,OAAO9D,QAuCjBL,mBApCqB,SAAAkE,GACzBjB,EAAUiB,EAAMC,OAAO9D,QAoCnBJ,QAASA,EACTC,UAAWA,IAGbT,EAAAC,EAAAC,cAAA,qBApCe+C,EAAQsC,OAAO,SAAAT,GAC9B,OAAOA,EAAOjF,KAAK2F,cAAcC,SAAS9B,EAAY6B,iBAG7BH,IAAI,SAAAP,GAAM,OACnC9E,EAAAC,EAAAC,cAACwF,EAAD,CACEC,IAAKb,EAAOxC,GACZzC,KAAMiF,EAAOjF,KACbC,OAAQgF,EAAOhF,OACfC,aAAc,kBA3CC,SAAAH,GAAkB,IAAfC,EAAeD,EAAfC,KAAMyC,EAAS1C,EAAT0C,GACxB2C,OAAOC,QAAP,UAAA1C,OAAyB3C,EAAzB,QACFoE,EACU3B,GACPL,KAAK,SAAAS,GACW,MAAXA,IACFQ,EAAWD,EAAQsC,OAAO,SAAAT,GAAM,OAAIA,EAAOxC,KAAOA,KAElD4B,EAAM,kBAAA1B,OAAmB3C,EAAnB,4BAAmD,YAG5D+F,MAAM,SAAAC,GACL3C,EAAWD,EAAQsC,OAAO,SAAAT,GAAM,OAAIA,EAAOxC,KAAOA,KAClD4B,EAAM,kBAAA1B,OACc3C,EADd,0CAEJ,WA4BgBE,CAAa+E,UC/GzCgB,IAASC,OAAO/F,EAAAC,EAAAC,cAAC8F,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.0f7dcc8a.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ name, number, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      {name} {number} <button onClick={deletePerson}>Delete</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  handleNameChange,\r\n  handleNumberChange,\r\n  newName,\r\n  newNumber\r\n}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name: <input onChange={handleNameChange} value={newName} />\r\n      </div>\r\n      <div>\r\n        number: <input onChange={handleNumberChange} value={newNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ filterPerson }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={filterPerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification.message === null) {\r\n    return null;\r\n  }\r\n\r\n  console.log(notification.message, notification.type);\r\n  console.log('type', notification.type);\r\n\r\n  const style = {\r\n    color: notification.type === 'error' ? 'red' : 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  };\r\n\r\n  return <div style={style}>{notification.message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\n\r\n// const baseUrl = `https://phonebook-fullstack.herokuapp.com/api/persons`;\r\n\r\n// only comment upper line after adding app.use(express.static('build')); in backend\r\nconst baseUrl = `api/persons`;\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newPerson => {\r\n  const request = axios.post(baseUrl, newPerson);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newPerson);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.status);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState, useEffect } from 'react';\n\nimport Person from './components/Person';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport personServices from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setName] = useState('');\n  const [newNumber, setNumber] = useState('');\n  const [showPersons, setShowPersons] = useState('');\n  const [notification, setNotification] = useState({\n    message: null\n  });\n\n  useEffect(() => {\n    personServices.getAll().then(persons => setPersons(persons));\n  }, []);\n\n  const notify = (message, type = 'success') => {\n    setNotification({ message, type });\n    setTimeout(() => setNotification({ message: null }), 10000);\n  };\n\n  const addPerson = event => {\n    event.preventDefault();\n\n    const alreadyExist = persons.find(person => person.name === newName.trim());\n\n    if (!alreadyExist) {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      personServices.create(newPerson).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        notify(`Added ${newPerson.name}`);\n      });\n    } else {\n      const thisPerson = persons.find(person => person.name === newName.trim());\n\n      if (thisPerson.number !== newNumber) {\n        if (\n          window.confirm(\n            `${newName} is already added to phonebook, replace the old number with a new one?`\n          )\n        ) {\n          const newPerson = { ...thisPerson, number: newNumber };\n          personServices\n            .update(thisPerson.id, newPerson)\n            .then(updatedPerson => {\n              setPersons(\n                persons.map(person =>\n                  person.id !== thisPerson.id ? person : updatedPerson\n                )\n              );\n\n              notify(`Updated number for ${newPerson.name}.`);\n            });\n        }\n      } else {\n        notify(\n          `Given phonenumber for ${newName} is already in the phonebook.`,\n          'error'\n        );\n      }\n    }\n\n    setName('');\n    setNumber('');\n  };\n\n  const deletePerson = ({ name, id }) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      personServices\n        .remove(id)\n        .then(status => {\n          if (status === 204) {\n            setPersons(persons.filter(person => person.id !== id));\n\n            notify(`Information of ${name} is removed from server.`, 'error');\n          }\n        })\n        .catch(error => {\n          setPersons(persons.filter(person => person.id !== id));\n          notify(\n            `Information of ${name} has already been removed from server.`,\n            'error'\n          );\n        });\n    }\n  };\n\n  const filterPerson = event => {\n    setShowPersons(event.target.value);\n  };\n\n  const handleNameChange = event => {\n    setName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNumber(event.target.value);\n  };\n\n  const personsList = () => {\n    const filtered = persons.filter(person => {\n      return person.name.toLowerCase().includes(showPersons.toLowerCase());\n    });\n\n    const toDisplay = filtered.map(person => (\n      <Person\n        key={person.id}\n        name={person.name}\n        number={person.number}\n        deletePerson={() => deletePerson(person)}\n      />\n    ));\n\n    return toDisplay;\n  };\n\n  console.log(notification);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification notification={notification} />\n\n      <Filter filterPerson={filterPerson} />\n\n      <h3>add a new</h3>\n\n      <PersonForm\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h3>Numbers</h3>\n\n      {personsList()}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}